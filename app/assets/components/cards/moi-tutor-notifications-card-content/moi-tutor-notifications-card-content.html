<dom-module id="moi-tutor-notifications-card-content">
  <link rel="stylesheet" href="moi-tutor-notifications-card-content.css" />
  <template>

    <paper-toast id="toast-message" duration="5000" text="{{ toastMessage }}"></paper-toast>

    <template is="dom-if" if="{{ loading }}" restamp>
      <div>{{ t('views.loading') }}</div>
    </template>
    <template is="dom-if" if="{{ !loading }}" restamp>
      <div class="notification-list-container">
        <template is="dom-repeat" items="{{ notifications }}">
          <div class="notification-info">
            <div class="info">
              <div>{{item.title}}</div>
              <div>
                <small>{{ item.client.username}}</small>
              </div>
            </div>
            <div class="options">
              <paper-button on-tap="openDialogDetails">
                <span>[[ t('views.tutor.dashboard.card_tutor_notifications.details') ]]</span>
              </paper-button>
            </div>
          </div>
        </template>
      </div>
    </template>

    <moi-dialog title="[[ t('views.tutor.dashboard.card_tutor_notifications.results') ]]" width="500" id="dialog-notification-info"
      theme="green">
      <template is="dom-if" if="{{ loadingDialogData }}" restamp>
        <div>{{ t('views.loading') }}</div>
      </template>
      <template is="dom-if" if="{{ !loadingDialogData }}" restamp>
        <h3>
          <span>[[ t('views.tutor.dashboard.card_tutor_notifications.player') ]]</span>
          <span>{{notificationData.playerName}}</span>
        </h3>
        <span>Username:
          <span>{{notificationData.username}}</span>
        </span>
        <br>
        <br>
        <div>
          <p>{{notificationData.description}}</p>
          <p>{{notificationDatatimeMessage}}</p>
        </div>
        <div>
          <ul>
            <template is="dom-repeat" items="{{ notificationData.answers }}" as="result">
              <li>
                <span>{{ result }}</span>
              </li>
            </template>
          </ul>
        </div>
      </template>
    </moi-dialog>

  </template>
  <script src="moi-tutor-notifications-card-content.js"></script>
</dom-module>
